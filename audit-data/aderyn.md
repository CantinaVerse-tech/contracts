# Aderyn Analysis Report

This report was generated by [Aderyn](https://github.com/Cyfrin/aderyn), a static analysis tool built by [Cyfrin](https://cyfrin.io), a blockchain security company. This report is not a substitute for manual audit or security review. It should not be relied upon for any purpose other than to assist in the identification of potential security vulnerabilities.
# Table of Contents

- [Summary](#summary)
  - [Files Summary](#files-summary)
  - [Files Details](#files-details)
  - [Issue Summary](#issue-summary)
- [High Issues](#high-issues)
  - [H-1: Arbitrary `from` passed to `transferFrom` (or `safeTransferFrom`)](#h-1-arbitrary-from-passed-to-transferfrom-or-safetransferfrom)
- [Low Issues](#low-issues)
  - [L-1: Centralization Risk for trusted owners](#l-1-centralization-risk-for-trusted-owners)
  - [L-2: `public` functions not used internally could be marked `external`](#l-2-public-functions-not-used-internally-could-be-marked-external)


# Summary

## Files Summary

| Key | Value |
| --- | --- |
| .sol Files | 4 |
| Total nSLOC | 439 |


## Files Details

| Filepath | nSLOC |
| --- | --- |
| src/AuctionEndChecker.sol | 0 |
| src/FactoryNFTContract.sol | 64 |
| src/MarketPlace.sol | 265 |
| src/NFTContract.sol | 110 |
| **Total** | **439** |


## Issue Summary

| Category | No. of Issues |
| --- | --- |
| High | 1 |
| Low | 2 |


# High Issues

## H-1: Arbitrary `from` passed to `transferFrom` (or `safeTransferFrom`)

Passing an arbitrary `from` address to `transferFrom` (or `safeTransferFrom`) can lead to loss of funds, because anyone can transfer tokens from the `from` address if an approval is made.  

<details><summary>1 Found Instances</summary>


- Found in src/MarketPlace.sol [Line: 163](src/MarketPlace.sol#L163)

	```solidity
	        IERC721(nftAddress).safeTransferFrom(seller, msg.sender, tokenId);
	```

</details>



# Low Issues

## L-1: Centralization Risk for trusted owners

Contracts have owners with privileged rights to perform admin tasks and need to be trusted to not perform malicious updates or drain funds.

<details><summary>10 Found Instances</summary>


- Found in src/FactoryNFTContract.sol [Line: 16](src/FactoryNFTContract.sol#L16)

	```solidity
	contract FactoryNFTContract is Ownable, ReentrancyGuard {
	```

- Found in src/FactoryNFTContract.sol [Line: 95](src/FactoryNFTContract.sol#L95)

	```solidity
	    function setFee(uint256 _fee) external onlyOwner {
	```

- Found in src/FactoryNFTContract.sol [Line: 99](src/FactoryNFTContract.sol#L99)

	```solidity
	    function withdraw(address payable recipient, uint256 amount) external onlyOwner {
	```

- Found in src/MarketPlace.sol [Line: 10](src/MarketPlace.sol#L10)

	```solidity
	contract MarketPlace is Ownable, ReentrancyGuard, IERC721Receiver {
	```

- Found in src/MarketPlace.sol [Line: 262](src/MarketPlace.sol#L262)

	```solidity
	    function setDedicatedMsgSender(address _newDedicatedMsgSender) external onlyOwner {
	```

- Found in src/MarketPlace.sol [Line: 271](src/MarketPlace.sol#L271)

	```solidity
	    function setFee(uint256 _fee) external onlyOwner {
	```

- Found in src/MarketPlace.sol [Line: 276](src/MarketPlace.sol#L276)

	```solidity
	    function withdraw(address payable recipient, uint256 amount) external onlyOwner {
	```

- Found in src/NFTContract.sol [Line: 21](src/NFTContract.sol#L21)

	```solidity
	contract NFTContract is ERC721, ERC2981, ERC721Enumerable, ERC721URIStorage, Ownable, ReentrancyGuard {
	```

- Found in src/NFTContract.sol [Line: 119](src/NFTContract.sol#L119)

	```solidity
	    function updateRoyaltyInfo(address contractOwner, uint96 newRoyaltyPercentage) external onlyOwner {
	```

- Found in src/NFTContract.sol [Line: 134](src/NFTContract.sol#L134)

	```solidity
	    function setBaseURI(string memory baseURI) external onlyOwner {
	```

</details>



## L-2: `public` functions not used internally could be marked `external`

Instead of marking a function as `public`, consider marking it as `external` if it is not used internally.

<details><summary>2 Found Instances</summary>


- Found in src/NFTContract.sol [Line: 215](src/NFTContract.sol#L215)

	```solidity
	    function tokenURI(uint256 tokenId) public view override(ERC721, ERC721URIStorage) returns (string memory) {
	```

- Found in src/NFTContract.sol [Line: 225](src/NFTContract.sol#L225)

	```solidity
	    function supportsInterface(
	```

</details>



